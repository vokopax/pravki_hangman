# games/tictactoe.py
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import random
import time
import os

# –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
–ø–æ–ª–µ = [' '] * 9  # –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ = 0  # —Å—á–µ—Ç –∏–≥—Ä–æ–∫–∞
—Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = 0  # —Å—á–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
–Ω–∏—á—å–∏ = 0  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∏—á—å–∏—Ö

# –§–£–ù–ö–¶–ò–ò

def –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω():
    """–û—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω –∫–æ–Ω—Å–æ–ª–∏"""
    os.system('cls' if os.name == 'nt' else 'clear')

def –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_—Å_–Ω–æ–º–µ—Ä–∞–º–∏():
    """—Ä–∏—Å—É–µ—Ç –ø–æ–ª–µ —Å –Ω–æ–º–µ—Ä–∞–º–∏ –∫–ª–µ—Ç–æ–∫"""
    –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
    
    —Å–∏–º–≤–æ–ª—ã = []
    for –∫–ª–µ—Ç–∫–∞ in –ø–æ–ª–µ:
        if –∫–ª–µ—Ç–∫–∞ == 'X':
            —Å–∏–º–≤–æ–ª—ã.append('‚ùå')
        elif –∫–ª–µ—Ç–∫–∞ == 'O':
            —Å–∏–º–≤–æ–ª—ã.append('‚≠ï')
        else:
            —Å–∏–º–≤–æ–ª—ã.append('‚¨ú')
    
    print("\n" + "‚ïê" * 50)
    print(" " * 15 + "–ö–†–ï–°–¢–ò–ö–ò-–ù–û–õ–ò–ö–ò")
    print("‚ïê" * 50)
    
    print("\n" + " " * 10 + "–°—Ö–µ–º–∞ –Ω–æ–º–µ—Ä–æ–≤ –∫–ª–µ—Ç–æ–∫:")
    print(" " * 10 + "  1   2   3")
    print(" " * 10 + "1 1 ‚îÇ 2 ‚îÇ 3 ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(" " * 10 + "2 4 ‚îÇ 5 ‚îÇ 6 ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(" " * 10 + "3 7 ‚îÇ 8 ‚îÇ 9 ")
    
    print("\n" + "‚îÄ" * 40)
    print(" " * 10 + "–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è:")
    
    print("\n" + " " * 10 + "  1   2   3")
    print(f" " * 10 + f"1 {—Å–∏–º–≤–æ–ª—ã[0]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[1]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[2]} ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(f" " * 10 + f"2 {—Å–∏–º–≤–æ–ª—ã[3]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[4]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[5]} ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(f" " * 10 + f"3 {—Å–∏–º–≤–æ–ª—ã[6]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[7]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[8]} ")
    print("‚îÄ" * 40)

def –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_–±–µ–∑_–Ω–æ–º–µ—Ä–æ–≤():
    """—Ä–∏—Å—É–µ—Ç –ø–æ–ª–µ –±–µ–∑ –Ω–æ–º–µ—Ä–æ–≤ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)"""
    –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
    
    —Å–∏–º–≤–æ–ª—ã = []
    for –∫–ª–µ—Ç–∫–∞ in –ø–æ–ª–µ:
        if –∫–ª–µ—Ç–∫–∞ == 'X':
            —Å–∏–º–≤–æ–ª—ã.append('‚ùå')
        elif –∫–ª–µ—Ç–∫–∞ == 'O':
            —Å–∏–º–≤–æ–ª—ã.append('‚≠ï')
        else:
            —Å–∏–º–≤–æ–ª—ã.append('‚¨ú')
    
    print("\n" + "‚ïê" * 50)
    print(" " * 15 + "–ö–†–ï–°–¢–ò–ö–ò-–ù–û–õ–ò–ö–ò")
    print("‚ïê" * 50)
    
    print("\n" + "‚îÄ" * 40)
    print(" " * 10 + "–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è:")
    
    print("\n")
    print(f" " * 10 + f"  {—Å–∏–º–≤–æ–ª—ã[0]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[1]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[2]} ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(f" " * 10 + f"  {—Å–∏–º–≤–æ–ª—ã[3]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[4]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[5]} ")
    print(" " * 10 + "  ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ")
    print(f" " * 10 + f"  {—Å–∏–º–≤–æ–ª—ã[6]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[7]} ‚îÇ {—Å–∏–º–≤–æ–ª—ã[8]} ")
    print("‚îÄ" * 40)

def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥—É(—Å–∏–º–≤–æ–ª):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤—ã–∏–≥—Ä–∞–ª –ª–∏ –∏–≥—Ä–æ–∫"""
    –ª–∏–Ω–∏–∏ = [
        [0, 1, 2], [3, 4, 5], [6, 7, 8],  # –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        [0, 3, 6], [1, 4, 7], [2, 5, 8],  # –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
        [0, 4, 8], [2, 4, 6]             # –¥–∏–∞–≥–æ–Ω–∞–ª–∏
    ]
    
    for –ª–∏–Ω–∏—è in –ª–∏–Ω–∏–∏:
        a, b, c = –ª–∏–Ω–∏—è
        if –ø–æ–ª–µ[a] == —Å–∏–º–≤–æ–ª and –ø–æ–ª–µ[b] == —Å–∏–º–≤–æ–ª and –ø–æ–ª–µ[c] == —Å–∏–º–≤–æ–ª:
            return True
    return False

def —Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(—Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞):
    """–£–º–Ω—ã–π —Ö–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"""
    —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞ = 'X' if —Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ == 'O' else 'O'
    
    # 1. –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å
    for i in range(9):
        if –ø–æ–ª–µ[i] == ' ':
            –ø–æ–ª–µ[i] = —Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞
            if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥—É(—Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞):
                –ø–æ–ª–µ[i] = ' '
                return i
            –ø–æ–ª–µ[i] = ' '
    
    # 2. –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞
    for i in range(9):
        if –ø–æ–ª–µ[i] == ' ':
            –ø–æ–ª–µ[i] = —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞
            if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥—É(—Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞):
                –ø–æ–ª–µ[i] = ' '
                return i
            –ø–æ–ª–µ[i] = ' '
    
    # 3. —Ü–µ–Ω—Ç—Ä
    if –ø–æ–ª–µ[4] == ' ':
        return 4
    
    # 4. —É–≥–ª—ã
    —É–≥–ª—ã = [0, 2, 6, 8]
    random.shuffle(—É–≥–ª—ã)
    for —É–≥–æ–ª in —É–≥–ª—ã:
        if –ø–æ–ª–µ[—É–≥–æ–ª] == ' ':
            return —É–≥–æ–ª
    
    # 5. –ª—é–±–∞—è —Å–≤–æ–±–æ–¥–Ω–∞—è
    —Å–≤–æ–±–æ–¥–Ω—ã–µ = [i for i in range(9) if –ø–æ–ª–µ[i] == ' ']
    if —Å–≤–æ–±–æ–¥–Ω—ã–µ:
        return random.choice(—Å–≤–æ–±–æ–¥–Ω—ã–µ)
    return -1

def –ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É():
    """–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä (–≤ –º–µ–Ω—é)"""
    print("\n" + "üìä" * 15)
    print(" " * 10 + "–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ì–†")
    print("üìä" * 15)
    
    print(f"\n" + " " * 5 + f"–ò–≥—Ä–æ–∫: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞} –ø–æ–±–µ–¥")
    print(" " * 5 + f"–ö–æ–º–ø—å—é—Ç–µ—Ä: {—Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞} –ø–æ–±–µ–¥")
    print(" " * 5 + f"–ù–∏—á—å–∏: {–Ω–∏—á—å–∏}")
    print(" " * 5 + f"–í—Å–µ–≥–æ –∏–≥—Ä: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ + —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ + –Ω–∏—á—å–∏}")
    
    # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç—ã, –µ—Å–ª–∏ –±—ã–ª–∏ –∏–≥—Ä—ã
    –≤—Å–µ–≥–æ_–∏–≥—Ä = —Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ + —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ + –Ω–∏—á—å–∏
    if –≤—Å–µ–≥–æ_–∏–≥—Ä > 0:
        print(f"\n" + " " * 5 + f"–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥ –∏–≥—Ä–æ–∫–∞: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞/–≤—Å–µ–≥–æ_–∏–≥—Ä*100:.1f}%")
        print(" " * 5 + f"–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: {—Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞/–≤—Å–µ–≥–æ_–∏–≥—Ä*100:.1f}%")
        print(" " * 5 + f"–ü—Ä–æ—Ü–µ–Ω—Ç –Ω–∏—á—å–∏—Ö: {–Ω–∏—á—å–∏/–≤—Å–µ–≥–æ_–∏–≥—Ä*100:.1f}%")
    
    print("\n" + "‚îÄ" * 40)

def –ø–æ–∫–∞–∑–∞—Ç—å_–∫—Ä–∞—Ç–∫—É—é_—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–Ω—Ü–µ –∏–≥—Ä—ã"""
    print(f"\nüìä –ü–æ—Å–ª–µ —ç—Ç–æ–π –∏–≥—Ä—ã:")
    print(f"   –í–∞—à–∏ –ø–æ–±–µ–¥—ã: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞}")
    print(f"   –ü–æ–±–µ–¥—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: {—Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞}")
    print(f"   –ù–∏—á—å–∏: {–Ω–∏—á—å–∏}")

def –∏–≥—Ä–∞—Ç—å_–ø—Ä–æ—Ç–∏–≤_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"""
    global –ø–æ–ª–µ, —Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞, —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –Ω–∏—á—å–∏
    
    # –≤—ã–±–æ—Ä —Å–∏–º–≤–æ–ª–∞
    –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
    print("\n" + "="*50)
    print(" " * 15 + "–†–ï–ñ–ò–ú: –ò–ì–†–û–ö vs –ö–û–ú–ü–¨–Æ–¢–ï–†")
    print("="*50)
    
    while True:
        –≤—ã–±–æ—Ä = input("\n–í—ã –∏–≥—Ä–∞–µ—Ç–µ –∑–∞ ‚ùå (X) –∏–ª–∏ ‚≠ï (O)? (X/O): ").upper()
        
        if –≤—ã–±–æ—Ä in ['X', '–•']:
            —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞ = 'X'
            —Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = 'O'
            –∏–≥—Ä–æ–∫_—Ö–æ–¥–∏—Ç_–ø–µ—Ä–≤—ã–º = True
            break
        elif –≤—ã–±–æ—Ä in ['O', '–û', '0']:
            —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞ = 'O'
            —Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = 'X'
            –∏–≥—Ä–æ–∫_—Ö–æ–¥–∏—Ç_–ø–µ—Ä–≤—ã–º = False
            break
        else:
            print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ X –∏–ª–∏ O")
    
    # —Å–±—Ä–æ—Å –ø–æ–ª—è
    –ø–æ–ª–µ = [' '] * 9
    —Ö–æ–¥_–Ω–æ–º–µ—Ä = 0
    —Ç–µ–∫—É—â–∏–π = 'X'  # X –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç
    
    print(f"\n‚úÖ –í—ã –∏–≥—Ä–∞–µ—Ç–µ –∑–∞ {'‚ùå (X)' if —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞ == 'X' else '‚≠ï (O)'}")
    print(f"ü§ñ –ö–æ–º–ø—å—é—Ç–µ—Ä –∏–≥—Ä–∞–µ—Ç –∑–∞ {'‚ùå (X)' if —Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ == 'X' else '‚≠ï (O)'}")
    
    if –∏–≥—Ä–æ–∫_—Ö–æ–¥–∏—Ç_–ø–µ—Ä–≤—ã–º:
        print("üéØ –í—ã —Ö–æ–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–º!")
    else:
        print("üéØ –ö–æ–º–ø—å—é—Ç–µ—Ä —Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º!")
    
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É...")
    
    # –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
    while True:
        –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_—Å_–Ω–æ–º–µ—Ä–∞–º–∏()
        print(f"\nüìä –•–æ–¥: {—Ö–æ–¥_–Ω–æ–º–µ—Ä + 1}")
        
        if —Ç–µ–∫—É—â–∏–π == —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞:
            # —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞
            print(f"üéØ –í–∞—à —Ö–æ–¥ ({'‚ùå' if —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞ == 'X' else '‚≠ï'})")
            
            while True:
                –≤–≤–æ–¥ = input("\n–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–ª–µ—Ç–∫–∏ (1-9) –∏–ª–∏ '–º–µ–Ω—é': ")
                
                if –≤–≤–æ–¥.lower() == '–º–µ–Ω—é':
                    return '–º–µ–Ω—é'
                
                try:
                    –Ω–æ–º–µ—Ä = int(–≤–≤–æ–¥)
                    if –Ω–æ–º–µ—Ä < 1 or –Ω–æ–º–µ—Ä > 9:
                        print("‚ùå –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 9")
                        continue
                    
                    –∏–Ω–¥–µ–∫—Å = –Ω–æ–º–µ—Ä - 1
                    if –ø–æ–ª–µ[–∏–Ω–¥–µ–∫—Å] != ' ':
                        print("‚ùå –ö–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞!")
                        continue
                    
                    –ø–æ–ª–µ[–∏–Ω–¥–µ–∫—Å] = —Ç–µ–∫—É—â–∏–π
                    break
                    
                except:
                    print("‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 9")
        else:
            # —Ö–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
            print(f"ü§ñ –•–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞...")
            time.sleep(0.5)
            –∏–Ω–¥–µ–∫—Å = —Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(—Å–∏–º–≤–æ–ª_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
            –ø–æ–ª–µ[–∏–Ω–¥–µ–∫—Å] = —Ç–µ–∫—É—â–∏–π
            print(f"–ö–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–±—Ä–∞–ª –∫–ª–µ—Ç–∫—É {–∏–Ω–¥–µ–∫—Å + 1}")
            time.sleep(1)
        
        —Ö–æ–¥_–Ω–æ–º–µ—Ä += 1
        
        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥—É(—Ç–µ–∫—É—â–∏–π):
            –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_–±–µ–∑_–Ω–æ–º–µ—Ä–æ–≤()
            if —Ç–µ–∫—É—â–∏–π == —Å–∏–º–≤–æ–ª_–∏–≥—Ä–æ–∫–∞:
                print("\n" + "üéâ" * 20)
                print(" " * 10 + "–í–´ –ü–û–ë–ï–î–ò–õ–ò! üèÜ")
                print("üéâ" * 20)
                —Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ += 1
            else:
                print("\n" + "ü§ñ" * 20)
                print(" " * 10 + "–ö–û–ú–ü–¨–Æ–¢–ï–† –ü–û–ë–ï–î–ò–õ!")
                print("ü§ñ" * 20)
                —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ += 1
            
            # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–≥—Ä—ã
            –ø–æ–∫–∞–∑–∞—Ç—å_–∫—Ä–∞—Ç–∫—É—é_—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É()
            break
        
        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏—á—å–µ–π
        if —Ö–æ–¥_–Ω–æ–º–µ—Ä == 9:
            –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_–±–µ–∑_–Ω–æ–º–µ—Ä–æ–≤()
            print("\n" + "ü§ù" * 20)
            print(" " * 10 + "–ù–ò–ß–¨–Ø!")
            print("ü§ù" * 20)
            –Ω–∏—á—å–∏ += 1
            
            # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–≥—Ä—ã
            –ø–æ–∫–∞–∑–∞—Ç—å_–∫—Ä–∞—Ç–∫—É—é_—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É()
            break
        
        # —Å–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–∞
        —Ç–µ–∫—É—â–∏–π = 'O' if —Ç–µ–∫—É—â–∏–π == 'X' else 'X'
    
    # –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ
    print("\n" + "-" * 40)
    while True:
        –≤—ã–±–æ—Ä = input("–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").lower()
        
        if –≤—ã–±–æ—Ä in ['–¥–∞', '–¥', 'yes', 'y']:
            print("\n–ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –∏–≥—Ä—É!")
            time.sleep(1)
            –∏–≥—Ä–∞—Ç—å_–ø—Ä–æ—Ç–∏–≤_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞()
            break
        elif –≤—ã–±–æ—Ä in ['–Ω–µ—Ç', '–Ω', 'no', 'n']:
            print("\n–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é...")
            time.sleep(1)
            return '–º–µ–Ω—é'
        else:
            print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ '–¥–∞' –∏–ª–∏ '–Ω–µ—Ç'")

def –∏–≥—Ä–∞—Ç—å_–ø—Ä–æ—Ç–∏–≤_–∏–≥—Ä–æ–∫–∞():
    """—Ä–µ–∂–∏–º –¥–≤–∞ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ"""
    global –ø–æ–ª–µ
    
    –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
    print("\n" + "="*50)
    print(" " * 15 + "–†–ï–ñ–ò–ú: –ò–ì–†–û–ö vs –ò–ì–†–û–ö")
    print("="*50)
    print("\n–î–≤–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏ —Ö–æ–¥—è—Ç –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ")
    input("–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å...")
    
    –ø–æ–ª–µ = [' '] * 9
    —Ç–µ–∫—É—â–∏–π = 'X'
    —Ö–æ–¥_–Ω–æ–º–µ—Ä = 0
    
    while True:
        –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_—Å_–Ω–æ–º–µ—Ä–∞–º–∏()
        print(f"\nüìä –•–æ–¥: {—Ö–æ–¥_–Ω–æ–º–µ—Ä + 1}")
        print(f"üéØ –•–æ–¥–∏—Ç –ò–≥—Ä–æ–∫ {'‚ùå (X)' if —Ç–µ–∫—É—â–∏–π == 'X' else '‚≠ï (O)'}")
        
        while True:
            –≤–≤–æ–¥ = input(f"\n–ò–≥—Ä–æ–∫ {—Ç–µ–∫—É—â–∏–π}, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–ª–µ—Ç–∫–∏ (1-9) –∏–ª–∏ '–º–µ–Ω—é': ")
            
            if –≤–≤–æ–¥.lower() == '–º–µ–Ω—é':
                return '–º–µ–Ω—é'
            
            try:
                –Ω–æ–º–µ—Ä = int(–≤–≤–æ–¥)
                if –Ω–æ–º–µ—Ä < 1 or –Ω–æ–º–µ—Ä > 9:
                    print("‚ùå –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 9")
                    continue
                
                –∏–Ω–¥–µ–∫—Å = –Ω–æ–º–µ—Ä - 1
                if –ø–æ–ª–µ[–∏–Ω–¥–µ–∫—Å] != ' ':
                    print("‚ùå –ö–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞!")
                    continue
                
                –ø–æ–ª–µ[–∏–Ω–¥–µ–∫—Å] = —Ç–µ–∫—É—â–∏–π
                break
                
            except:
                print("‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 9")
        
        —Ö–æ–¥_–Ω–æ–º–µ—Ä += 1
        
        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        if –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–±–µ–¥—É(—Ç–µ–∫—É—â–∏–π):
            –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_–±–µ–∑_–Ω–æ–º–µ—Ä–æ–≤()
            print("\n" + "üéâ" * 20)
            print(f" " * 10 + f"–ü–û–ë–ï–î–ò–õ –ò–ì–†–û–ö {—Ç–µ–∫—É—â–∏–π}!")
            print(f" " * 10 + f"{'‚ùå' if —Ç–µ–∫—É—â–∏–π == 'X' else '‚≠ï'} üèÜ")
            print("üéâ" * 20)
            break
        
        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏—á—å–µ–π
        if —Ö–æ–¥_–Ω–æ–º–µ—Ä == 9:
            –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ_–±–µ–∑_–Ω–æ–º–µ—Ä–æ–≤()
            print("\n" + "ü§ù" * 20)
            print(" " * 10 + "–ù–ò–ß–¨–Ø!")
            print("ü§ù" * 20)
            break
        
        # —Å–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–∞
        —Ç–µ–∫—É—â–∏–π = 'O' if —Ç–µ–∫—É—â–∏–π == 'X' else 'X'
    
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é...")
    return '–º–µ–Ω—é'

def –≥–ª–∞–≤–Ω–æ–µ_–º–µ–Ω—é():
    """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏–≥—Ä—ã"""
    while True:
        –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
        
        print("\n" + "‚ïê" * 60)
        print(" " * 20 + "üéÆ –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ üéÆ")
        print("‚ïê" * 60)
        
        print("\n" + " " * 18 + "–í–´–ë–ï–†–ò–¢–ï –†–ï–ñ–ò–ú –ò–ì–†–´:")
        print("-" * 60)
        print()
        print(" " * 10 + "1. üßç vs ü§ñ –ò–≥—Ä–∞—Ç—å –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞")
        print(" " * 10 + "2. üßç vs üßç –î–≤–∞ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ")
        print(" " * 10 + "3. üìä –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
        print(" " * 10 + "4. üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
        print(" " * 10 + "5. üö™ –í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã")
        print()
        print("-" * 60)
        
        –≤—ã–±–æ—Ä = input("\n–í–∞—à –≤—ã–±–æ—Ä (1-5): ")
        
        if –≤—ã–±–æ—Ä == '1':
            —Ä–µ–∑—É–ª—å—Ç–∞—Ç = –∏–≥—Ä–∞—Ç—å_–ø—Ä–æ—Ç–∏–≤_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞()
            if —Ä–µ–∑—É–ª—å—Ç–∞—Ç == '–º–µ–Ω—é':
                continue
        elif –≤—ã–±–æ—Ä == '2':
            —Ä–µ–∑—É–ª—å—Ç–∞—Ç = –∏–≥—Ä–∞—Ç—å_–ø—Ä–æ—Ç–∏–≤_–∏–≥—Ä–æ–∫–∞()
            if —Ä–µ–∑—É–ª—å—Ç–∞—Ç == '–º–µ–Ω—é':
                continue
        elif –≤—ã–±–æ—Ä == '3':
            # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¢–û–õ–¨–ö–û –ó–î–ï–°–¨
            –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
            –ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É()
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é...")
        elif –≤—ã–±–æ—Ä == '4':
            global —Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞, —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –Ω–∏—á—å–∏
            —Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ = 0
            —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = 0
            –Ω–∏—á—å–∏ = 0
            print("\n‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞!")
            time.sleep(1)
        elif –≤—ã–±–æ—Ä == '5':
            # –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
            –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
            print("\n" + "üìä" * 15)
            print(" " * 10 + "–§–ò–ù–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê")
            print("üìä" * 15)
            print(f"\n" + " " * 5 + f"–ò–≥—Ä–æ–∫: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞} –ø–æ–±–µ–¥")
            print(" " * 5 + f"–ö–æ–º–ø—å—é—Ç–µ—Ä: {—Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞} –ø–æ–±–µ–¥")
            print(" " * 5 + f"–ù–∏—á—å–∏: {–Ω–∏—á—å–∏}")
            print(" " * 5 + f"–í—Å–µ–≥–æ –∏–≥—Ä: {—Å—á–µ—Ç_–∏–≥—Ä–æ–∫–∞ + —Å—á–µ—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ + –Ω–∏—á—å–∏}")
            
            print("\n" + "üëã" * 20)
            print(" " * 10 + "–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ –≤—Å—Ç—Ä–µ—á–∏!")
            print("üëã" * 20)
            time.sleep(2)
            break
        else:
            print("\n‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç 1 –¥–æ 5")
            time.sleep(1)

def –∑–∞–ø—É—Å—Ç–∏—Ç—å_–∏–≥—Ä—É():
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã"""
    –æ—á–∏—Å—Ç–∏—Ç—å_—ç–∫—Ä–∞–Ω()
    print("\n" * 3)
    print("üéÆ" * 30)
    print(" " * 20 + "–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨!")
    print(" " * 15 + "–í –ò–ì–†–£ '–ö–†–ï–°–¢–ò–ö–ò-–ù–û–õ–ò–ö–ò'")
    print("üéÆ" * 30)
    
    print("\n" * 2)
    print("üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é:")
    print("-" * 40)
    print("‚Ä¢ –í–≤–æ–¥–∏—Ç–µ —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 9 –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–ª–µ—Ç–∫–∏")
    print("‚Ä¢ –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –≤–≤–æ–¥–∏—Ç–µ 1-5 –¥–ª—è –≤—ã–±–æ—Ä–∞")
    print("‚Ä¢ –í–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã –≤–≤–µ–¥–∏—Ç–µ '–º–µ–Ω—é' –¥–ª—è –≤—ã—Ö–æ–¥–∞")
    print("‚Ä¢ –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–≤–æ–¥–∞ –Ω–∞–∂–∏–º–∞–π—Ç–µ Enter")
    print("-" * 40)
    
    print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é (–ø—É–Ω–∫—Ç 3)")
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É...")
    
    # –∑–∞–ø—É—Å–∫–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∫—Ä–µ—Å—Ç–∏–∫–æ–≤-–Ω–æ–ª–∏–∫–æ–≤
    –≥–ª–∞–≤–Ω–æ–µ_–º–µ–Ω—é()

# –ó–ê–ü–£–°–ö –ò–ì–†–´
def play_tictactoe():
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é"""
    –∑–∞–ø—É—Å—Ç–∏—Ç—å_–∏–≥—Ä—É()

